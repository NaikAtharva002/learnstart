module.exports=[50421,a=>{"use strict";var b=a.i(87924),c=a.i(74362);function d({isOpen:a,onClose:d,title:e,children:f,footer:g}){return a?(0,b.jsx)("div",{className:"modal-overlay",onClick:d,children:(0,b.jsxs)("div",{className:"modal",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"modal-header",children:[(0,b.jsx)("h3",{className:"modal-title",children:e}),(0,b.jsx)("button",{className:"btn btn-icon btn-ghost",onClick:d,children:(0,b.jsx)(c.HiOutlineX,{size:20})})]}),(0,b.jsx)("div",{className:"modal-body",children:f}),g&&(0,b.jsx)("div",{className:"modal-footer",children:g})]})}):null}a.s(["default",()=>d])},2064,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(81713),e=a.i(50421),f=a.i(74362);function g(){let[a,g]=(0,c.useState)(0),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)({});(0,c.useEffect)(()=>{Promise.all([(0,d.getProblems)(),(0,d.getBusinesses)(),(0,d.getAllVideos)()]).then(([a,b,c])=>{i(a),k(b),m(c),Promise.all(b.map(a=>(0,d.getPhasesByBusiness)(a.id))).then(a=>{let b={};a.flat().forEach(a=>{b[a.id]=a}),o(b)})})},[a]);let[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)({title:"",explanation:"",businessId:"",phaseId:"",videoIds:[]}),[v,w]=(0,c.useState)([]);(0,c.useEffect)(()=>{t.businessId?(0,d.getPhasesByBusiness)(t.businessId).then(w):w([])},[t.businessId]);let x=()=>{s(null),u({title:"",explanation:"",businessId:j[0]?.id||"",phaseId:"",videoIds:[]}),q(!0)},y=async()=>{t.title&&t.businessId&&(r?await (0,d.updateProblem)(r.id,t):await (0,d.createProblem)(t),q(!1),g(a=>a+1))},z=async a=>{confirm("Delete this problem?")&&(await (0,d.deleteProblem)(a),g(a=>a+1))};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"section-header",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"section-title",children:"Problems"}),(0,b.jsx)("p",{className:"section-subtitle",children:"Manage the founder problem library"})]}),(0,b.jsxs)("button",{className:"btn btn-primary",onClick:x,children:[(0,b.jsx)(f.HiOutlinePlus,{})," Add Problem"]})]}),(0,b.jsx)("div",{className:"table-container",children:(0,b.jsxs)("table",{className:"table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Title"}),(0,b.jsx)("th",{children:"Business"}),(0,b.jsx)("th",{children:"Phase"}),(0,b.jsx)("th",{children:"Videos"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsx)("tbody",{children:h.map(a=>{let c=j.find(b=>b.id===a.businessId),d=n[a.phaseId];return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"font-medium",children:a.title}),(0,b.jsx)("td",{className:"text-sm",children:c?`${c.icon} ${c.name}`:"â€”"}),(0,b.jsx)("td",{className:"text-sm text-muted",children:d?.name||"â€”"}),(0,b.jsx)("td",{className:"text-sm text-muted",children:a.videoIds.length}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"flex gap-xs",children:[(0,b.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>{s(a),u({title:a.title,explanation:a.explanation,businessId:a.businessId,phaseId:a.phaseId,videoIds:a.videoIds}),q(!0)},children:(0,b.jsx)(f.HiOutlinePencil,{})}),(0,b.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>z(a.id),children:(0,b.jsx)(f.HiOutlineTrash,{})})]})})]},a.id)})})]})}),0===h.length&&(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("div",{className:"empty-state-icon",children:"ðŸ’¡"}),(0,b.jsx)("p",{className:"empty-state-title",children:"No problems yet"}),(0,b.jsx)("button",{className:"btn btn-primary mt-md",onClick:x,children:"Create your first problem"})]}),(0,b.jsxs)(e.default,{isOpen:p,onClose:()=>q(!1),title:r?"Edit Problem":"Create Problem",footer:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"btn btn-secondary",onClick:()=>q(!1),children:"Cancel"}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:y,children:"Save"})]}),children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Title"}),(0,b.jsx)("input",{className:"input",value:t.title,onChange:a=>u({...t,title:a.target.value}),placeholder:"e.g. No clients after 2 weeks"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Explanation"}),(0,b.jsx)("textarea",{className:"input textarea",value:t.explanation,onChange:a=>u({...t,explanation:a.target.value}),placeholder:"Detailed explanation...",style:{minHeight:"120px"}})]}),(0,b.jsxs)("div",{className:"flex gap-md",children:[(0,b.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,b.jsx)("label",{className:"form-label",children:"Business"}),(0,b.jsxs)("select",{className:"input select",value:t.businessId,onChange:a=>u({...t,businessId:a.target.value,phaseId:""}),children:[(0,b.jsx)("option",{value:"",children:"Select..."}),j.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.icon," ",a.name]},a.id))]})]}),(0,b.jsxs)("div",{className:"form-group",style:{flex:1},children:[(0,b.jsx)("label",{className:"form-label",children:"Phase"}),(0,b.jsxs)("select",{className:"input select",value:t.phaseId,onChange:a=>u({...t,phaseId:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Select..."}),v.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsxs)("label",{className:"form-label",children:["Linked Videos (",t.videoIds.length," selected)"]}),(0,b.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",padding:"var(--space-sm)"},children:l.map(a=>(0,b.jsxs)("div",{className:"checkbox-wrapper",style:{padding:"var(--space-xs) var(--space-sm)"},onClick:()=>{var b;return b=a.id,void u(a=>({...a,videoIds:a.videoIds.includes(b)?a.videoIds.filter(a=>a!==b):[...a.videoIds,b]}))},children:[(0,b.jsx)("div",{className:`checkbox ${t.videoIds.includes(a.id)?"checked":""}`,style:{width:"16px",height:"16px",minWidth:"16px"},children:t.videoIds.includes(a.id)&&(0,b.jsx)("span",{style:{fontSize:"10px"},children:"âœ“"})}),(0,b.jsx)("span",{className:"text-sm",children:a.title})]},a.id))})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=admin-panel_src_d85f4094._.js.map