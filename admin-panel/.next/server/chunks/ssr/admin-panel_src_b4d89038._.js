module.exports=[50421,a=>{"use strict";var b=a.i(87924),c=a.i(74362);function d({isOpen:a,onClose:d,title:e,children:f,footer:g}){return a?(0,b.jsx)("div",{className:"modal-overlay",onClick:d,children:(0,b.jsxs)("div",{className:"modal",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"modal-header",children:[(0,b.jsx)("h3",{className:"modal-title",children:e}),(0,b.jsx)("button",{className:"btn btn-icon btn-ghost",onClick:d,children:(0,b.jsx)(c.HiOutlineX,{size:20})})]}),(0,b.jsx)("div",{className:"modal-body",children:f}),g&&(0,b.jsx)("div",{className:"modal-footer",children:g})]})}):null}a.s(["default",()=>d])},17598,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(81713),e=a.i(50421),f=a.i(74362);function g(){let[a,g]=(0,c.useState)(0),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)("");(0,c.useEffect)(()=>{Promise.all([(0,d.getBusinesses)(),(0,d.getCategories)()]).then(([a,b])=>{i(a),k(b)})},[a]);let n=(0,c.useMemo)(()=>l?h.filter(a=>a.categoryId===l):h,[h,l]),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)({name:"",description:"",icon:"ðŸ“¦",image:"",slug:"",order:1,categoryId:""}),u=()=>{r(null),t({name:"",description:"",icon:"ðŸ“¦",image:"",slug:"",order:n.length+1,categoryId:j[0]?.id||""}),p(!0)},v=async()=>{s.name&&s.slug&&s.categoryId&&(q?await (0,d.updateBusiness)(q.id,s):await (0,d.createBusiness)(s),p(!1),g(a=>a+1))},w=async a=>{confirm("Delete this business and all its content?")&&(await (0,d.deleteBusiness)(a),g(a=>a+1))};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"section-header",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"section-title",children:"Businesses"}),(0,b.jsxs)("p",{className:"section-subtitle",children:[n.length," business",1!==n.length?"es":"",l?" in category":" total"]})]}),(0,b.jsxs)("button",{className:"btn btn-primary",onClick:u,children:[(0,b.jsx)(f.HiOutlinePlus,{})," Add Business"]})]}),(0,b.jsx)("div",{className:"mb-lg",children:(0,b.jsxs)("select",{className:"input select",value:l,onChange:a=>m(a.target.value),style:{width:"auto",minWidth:"220px"},children:[(0,b.jsx)("option",{value:"",children:"All Categories"}),j.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.icon," ",a.name]},a.id))]})}),(0,b.jsx)("div",{className:"table-container",children:(0,b.jsxs)("table",{className:"table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"#"}),(0,b.jsx)("th",{children:"Icon"}),(0,b.jsx)("th",{children:"Name"}),(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{children:"Slug"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsx)("tbody",{children:n.map(a=>{let c=j.find(b=>b.id===a.categoryId);return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.order}),(0,b.jsx)("td",{style:{fontSize:"24px"},children:a.icon}),(0,b.jsx)("td",{className:"font-medium",children:a.name}),(0,b.jsx)("td",{className:"text-sm text-muted",children:c?`${c.icon} ${c.name}`:"â€”"}),(0,b.jsx)("td",{className:"text-xs text-muted",children:a.slug}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"flex gap-xs",children:[(0,b.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>{r(a),t({name:a.name,description:a.description,icon:a.icon,image:a.image,slug:a.slug,order:a.order,categoryId:a.categoryId}),p(!0)},children:(0,b.jsx)(f.HiOutlinePencil,{})}),(0,b.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>w(a.id),children:(0,b.jsx)(f.HiOutlineTrash,{})})]})})]},a.id)})})]})}),0===n.length&&(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("div",{className:"empty-state-icon",children:"ðŸ“¦"}),(0,b.jsx)("p",{className:"empty-state-title",children:"No businesses found"}),""===l&&(0,b.jsx)("button",{className:"btn btn-primary mt-md",onClick:u,children:"Create your first business"})]}),(0,b.jsxs)(e.default,{isOpen:o,onClose:()=>p(!1),title:q?"Edit Business":"Create Business",footer:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"btn btn-secondary",onClick:()=>p(!1),children:"Cancel"}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:v,children:"Save"})]}),children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Category"}),(0,b.jsxs)("select",{className:"input select",value:s.categoryId,onChange:a=>t({...s,categoryId:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Select category..."}),j.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.icon," ",a.name]},a.id))]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Icon (emoji)"}),(0,b.jsx)("input",{className:"input",value:s.icon,onChange:a=>t({...s,icon:a.target.value})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Name"}),(0,b.jsx)("input",{className:"input",value:s.name,onChange:a=>t({...s,name:a.target.value,slug:a.target.value.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+$/,"")}),placeholder:"e.g. Dropshipping"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Slug"}),(0,b.jsx)("input",{className:"input",value:s.slug,onChange:a=>t({...s,slug:a.target.value}),placeholder:"e.g. dropshipping"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Description"}),(0,b.jsx)("textarea",{className:"input textarea",value:s.description,onChange:a=>t({...s,description:a.target.value}),placeholder:"Short description..."})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Cover Image URL"}),(0,b.jsx)("input",{className:"input",value:s.image,onChange:a=>t({...s,image:a.target.value}),placeholder:"https://images.unsplash.com/..."})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Order"}),(0,b.jsx)("input",{className:"input",type:"number",value:s.order,onChange:a=>t({...s,order:parseInt(a.target.value)||1})})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=admin-panel_src_b4d89038._.js.map