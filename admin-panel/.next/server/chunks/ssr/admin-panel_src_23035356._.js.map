{"version":3,"sources":["../../../../../admin-panel/src/components/Modal.tsx","../../../../../admin-panel/src/app/videos/page.tsx","../../../../../admin-panel/src/lib/youtube.ts"],"sourcesContent":["'use client';\r\n\r\nimport { ReactNode } from 'react';\r\nimport { HiOutlineX } from 'react-icons/hi';\r\n\r\ninterface ModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title: string;\r\n    children: ReactNode;\r\n    footer?: ReactNode;\r\n}\r\n\r\nexport default function Modal({ isOpen, onClose, title, children, footer }: ModalProps) {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"modal-overlay\" onClick={onClose}>\r\n            <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <h3 className=\"modal-title\">{title}</h3>\r\n                    <button className=\"btn btn-icon btn-ghost\" onClick={onClose}>\r\n                        <HiOutlineX size={20} />\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    {children}\r\n                </div>\r\n                {footer && (\r\n                    <div className=\"modal-footer\">\r\n                        {footer}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { getBusinesses, getPhasesByBusiness, getVideosByPhase, createVideo, updateVideo, deleteVideo } from '@/lib/db';\r\nimport { extractYouTubeId, getEmbedUrl, getThumbnailUrl } from '@/lib/youtube';\r\nimport Modal from '@/components/Modal';\r\nimport { HiOutlinePlus, HiOutlinePencil, HiOutlineTrash, HiOutlineArrowUp, HiOutlineArrowDown } from 'react-icons/hi';\r\nimport type { Video, Business, Phase } from '@/lib/seed-data';\r\n\r\nexport default function AdminVideos() {\r\n    const [refresh, setRefresh] = useState(0);\r\n    const [businesses, setBusinesses] = useState<Business[]>([]);\r\n    const [selectedBiz, setSelectedBiz] = useState('');\r\n    const [phases, setPhases] = useState<Phase[]>([]);\r\n    const [selectedPhase, setSelectedPhase] = useState('');\r\n    const [videos, setVideos] = useState<Video[]>([]);\r\n\r\n    useEffect(() => {\r\n        getBusinesses().then(bizs => {\r\n            setBusinesses(bizs);\r\n            if (bizs.length > 0 && !selectedBiz) {\r\n                setSelectedBiz(bizs[0].id);\r\n            }\r\n        });\r\n    }, [refresh, selectedBiz]);\r\n\r\n    useEffect(() => {\r\n        if (selectedBiz) {\r\n            getPhasesByBusiness(selectedBiz).then(phs => {\r\n                setPhases(phs);\r\n                if (phs.length > 0 && !phs.find(p => p.id === selectedPhase)) {\r\n                    setSelectedPhase(phs[0].id);\r\n                } else if (phs.length === 0) {\r\n                    setSelectedPhase('');\r\n                }\r\n            });\r\n        } else {\r\n            setPhases([]);\r\n            setSelectedPhase('');\r\n        }\r\n    }, [selectedBiz, refresh, selectedPhase]);\r\n\r\n    useEffect(() => {\r\n        if (selectedPhase) {\r\n            getVideosByPhase(selectedPhase).then(setVideos);\r\n        } else {\r\n            setVideos([]);\r\n        }\r\n    }, [selectedPhase, refresh]);\r\n\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [editing, setEditing] = useState<Video | null>(null);\r\n    const [form, setForm] = useState({ title: '', youtubeUrl: '', youtubeId: '', description: '', duration: '', order: 1, difficulty: 'beginner' as Video['difficulty'], phaseId: '' });\r\n\r\n    // Auto-extract video ID when URL changes\r\n    const handleUrlChange = (url: string) => {\r\n        const videoId = extractYouTubeId(url) || '';\r\n        setForm(prev => ({ ...prev, youtubeUrl: url, youtubeId: videoId }));\r\n    };\r\n\r\n    const previewId = form.youtubeId || extractYouTubeId(form.youtubeUrl) || '';\r\n\r\n    const openCreate = () => {\r\n        setEditing(null);\r\n        setForm({ title: '', youtubeUrl: '', youtubeId: '', description: '', duration: '', order: videos.length + 1, difficulty: 'beginner', phaseId: selectedPhase });\r\n        setModalOpen(true);\r\n    };\r\n\r\n    const openEdit = (video: Video) => {\r\n        setEditing(video);\r\n        setForm({ title: video.title, youtubeUrl: video.youtubeUrl, youtubeId: video.youtubeId, description: video.description, duration: video.duration, order: video.order, difficulty: video.difficulty, phaseId: video.phaseId });\r\n        setModalOpen(true);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!form.title || !form.youtubeUrl) return;\r\n        const youtubeId = extractYouTubeId(form.youtubeUrl) || '';\r\n        const data = { ...form, youtubeId };\r\n        if (editing) {\r\n            await updateVideo(editing.id, data);\r\n        } else {\r\n            await createVideo(data);\r\n        }\r\n        setModalOpen(false);\r\n        setRefresh(r => r + 1);\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (confirm('Delete this video?')) {\r\n            await deleteVideo(id);\r\n            setRefresh(r => r + 1);\r\n        }\r\n    };\r\n\r\n    const moveVideo = async (video: Video, direction: 'up' | 'down') => {\r\n        const newOrder = direction === 'up' ? video.order - 1 : video.order + 1;\r\n        const swap = videos.find(v => v.order === newOrder);\r\n        if (swap) {\r\n            await updateVideo(swap.id, { order: video.order });\r\n            await updateVideo(video.id, { order: newOrder });\r\n            setRefresh(r => r + 1);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"section-header\">\r\n                <div>\r\n                    <h1 className=\"section-title\">Videos</h1>\r\n                    <p className=\"section-subtitle\">Manage YouTube videos for each phase</p>\r\n                </div>\r\n                <button className=\"btn btn-primary\" onClick={openCreate} disabled={!selectedPhase}>\r\n                    <HiOutlinePlus /> Add Video\r\n                </button>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"flex gap-md mb-lg\" style={{ flexWrap: 'wrap' }}>\r\n                <select className=\"input select\" value={selectedBiz} onChange={(e) => setSelectedBiz(e.target.value)} style={{ width: 'auto', minWidth: '180px' }}>\r\n                    <option value=\"\">Select Business...</option>\r\n                    {businesses.map((b) => (\r\n                        <option key={b.id} value={b.id}>{b.icon} {b.name}</option>\r\n                    ))}\r\n                </select>\r\n                <select className=\"input select\" value={selectedPhase} onChange={(e) => setSelectedPhase(e.target.value)} style={{ width: 'auto', minWidth: '180px' }}>\r\n                    <option value=\"\">Select Phase...</option>\r\n                    {phases.map((p) => (\r\n                        <option key={p.id} value={p.id}>{p.name}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"table-container\">\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>Preview</th>\r\n                            <th>Title</th>\r\n                            <th>Duration</th>\r\n                            <th>Difficulty</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {videos.map((video) => (\r\n                            <tr key={video.id}>\r\n                                <td>{video.order}</td>\r\n                                <td>\r\n                                    <img\r\n                                        src={getThumbnailUrl(video.youtubeId, 'default')}\r\n                                        alt=\"\"\r\n                                        style={{ width: '80px', height: '45px', objectFit: 'cover', borderRadius: 'var(--radius-sm)' }}\r\n                                    />\r\n                                </td>\r\n                                <td className=\"font-medium\">{video.title}</td>\r\n                                <td className=\"text-sm text-muted\">{video.duration}</td>\r\n                                <td><span className=\"badge badge-accent\">{video.difficulty}</span></td>\r\n                                <td>\r\n                                    <div className=\"flex gap-xs\">\r\n                                        <button className=\"btn btn-ghost btn-sm\" onClick={() => moveVideo(video, 'up')} disabled={video.order === 1}>\r\n                                            <HiOutlineArrowUp />\r\n                                        </button>\r\n                                        <button className=\"btn btn-ghost btn-sm\" onClick={() => moveVideo(video, 'down')} disabled={video.order === videos.length}>\r\n                                            <HiOutlineArrowDown />\r\n                                        </button>\r\n                                        <button className=\"btn btn-ghost btn-sm\" onClick={() => openEdit(video)}>\r\n                                            <HiOutlinePencil />\r\n                                        </button>\r\n                                        <button className=\"btn btn-danger btn-sm\" onClick={() => handleDelete(video.id)}>\r\n                                            <HiOutlineTrash />\r\n                                        </button>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {videos.length === 0 && (\r\n                <div className=\"empty-state\">\r\n                    <div className=\"empty-state-icon\">üé¨</div>\r\n                    <p className=\"empty-state-title\">No videos in this phase</p>\r\n                    {selectedPhase && (\r\n                        <button className=\"btn btn-primary mt-md\" onClick={openCreate}>Add first video</button>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            <Modal\r\n                isOpen={modalOpen}\r\n                onClose={() => setModalOpen(false)}\r\n                title={editing ? 'Edit Video' : 'Add Video'}\r\n                footer={\r\n                    <>\r\n                        <button className=\"btn btn-secondary\" onClick={() => setModalOpen(false)}>Cancel</button>\r\n                        <button className=\"btn btn-primary\" onClick={handleSave}>Save</button>\r\n                    </>\r\n                }\r\n            >\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-label\">YouTube URL</label>\r\n                    <input className=\"input\" value={form.youtubeUrl} onChange={(e) => handleUrlChange(e.target.value)} placeholder=\"Paste any YouTube link ‚Äî URL auto-parsed\" />\r\n                    {previewId && (\r\n                        <p className=\"text-xs text-muted\" style={{ marginTop: '4px' }}>\r\n                            ‚úÖ Video ID: <code style={{ color: 'var(--accent-primary)' }}>{previewId}</code>\r\n                        </p>\r\n                    )}\r\n                    {form.youtubeUrl && !previewId && (\r\n                        <p className=\"text-xs\" style={{ marginTop: '4px', color: 'var(--accent-danger)' }}>\r\n                            ‚ö†Ô∏è Could not extract video ID from this URL\r\n                        </p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Live preview */}\r\n                {previewId && (\r\n                    <div className=\"form-group\">\r\n                        <label className=\"form-label\">Preview</label>\r\n                        <div style={{ position: 'relative', paddingBottom: '56.25%', borderRadius: 'var(--radius-md)', overflow: 'hidden', background: 'var(--bg-secondary)' }}>\r\n                            <iframe\r\n                                src={getEmbedUrl(previewId)}\r\n                                title=\"Preview\"\r\n                                allow=\"encrypted-media\"\r\n                                style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', border: 'none' }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-label\">Title</label>\r\n                    <input className=\"input\" value={form.title} onChange={(e) => setForm({ ...form, title: e.target.value })} placeholder=\"Video title\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-label\">Description</label>\r\n                    <textarea className=\"input textarea\" value={form.description} onChange={(e) => setForm({ ...form, description: e.target.value })} />\r\n                </div>\r\n                <div className=\"flex gap-md\">\r\n                    <div className=\"form-group\" style={{ flex: 1 }}>\r\n                        <label className=\"form-label\">Duration</label>\r\n                        <input className=\"input\" value={form.duration} onChange={(e) => setForm({ ...form, duration: e.target.value })} placeholder=\"12:30\" />\r\n                    </div>\r\n                    <div className=\"form-group\" style={{ flex: 1 }}>\r\n                        <label className=\"form-label\">Difficulty</label>\r\n                        <select className=\"input select\" value={form.difficulty} onChange={(e) => setForm({ ...form, difficulty: e.target.value as Video['difficulty'] })}>\r\n                            <option value=\"beginner\">Beginner</option>\r\n                            <option value=\"intermediate\">Intermediate</option>\r\n                            <option value=\"advanced\">Advanced</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-label\">Order</label>\r\n                    <input className=\"input\" type=\"number\" value={form.order} onChange={(e) => setForm({ ...form, order: parseInt(e.target.value) || 1 })} />\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n","/**\r\n * YouTube URL utilities ‚Äî LearnStart\r\n * Handles parsing, validation, and embed URL generation for YouTube videos.\r\n */\r\n\r\n/**\r\n * Extract YouTube video ID from any YouTube URL format.\r\n * Supports:\r\n *   - youtube.com/watch?v=VIDEO_ID\r\n *   - youtu.be/VIDEO_ID\r\n *   - youtube.com/shorts/VIDEO_ID\r\n *   - youtube.com/embed/VIDEO_ID\r\n *   - Raw video ID string\r\n */\r\nexport function extractYouTubeId(url: string): string | null {\r\n    if (!url) return null;\r\n\r\n    // Already a plain video ID (11 chars, alphanumeric + dash/underscore)\r\n    if (/^[a-zA-Z0-9_-]{11}$/.test(url.trim())) {\r\n        return url.trim();\r\n    }\r\n\r\n    try {\r\n        const parsed = new URL(url);\r\n\r\n        // youtube.com/watch?v=ID\r\n        if (parsed.hostname.includes('youtube.com') && parsed.searchParams.has('v')) {\r\n            return parsed.searchParams.get('v');\r\n        }\r\n\r\n        // youtu.be/ID\r\n        if (parsed.hostname === 'youtu.be') {\r\n            return parsed.pathname.slice(1).split('/')[0] || null;\r\n        }\r\n\r\n        // youtube.com/shorts/ID or youtube.com/embed/ID\r\n        const pathMatch = parsed.pathname.match(/^\\/(shorts|embed)\\/([a-zA-Z0-9_-]+)/);\r\n        if (pathMatch) {\r\n            return pathMatch[2];\r\n        }\r\n    } catch {\r\n        // Not a valid URL ‚Äî try regex fallback\r\n        const match = url.match(/(?:v=|\\/)([\\w-]{11})(?:\\?|&|$)/);\r\n        if (match) return match[1];\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Generate YouTube embed URL from a video ID.\r\n * Includes recommended params for clean embedding.\r\n */\r\nexport function getEmbedUrl(videoId: string): string {\r\n    return `https://www.youtube.com/embed/${videoId}?rel=0&modestbranding=1`;\r\n}\r\n\r\n/**\r\n * Generate YouTube watch URL from a video ID.\r\n */\r\nexport function getWatchUrl(videoId: string): string {\r\n    return `https://www.youtube.com/watch?v=${videoId}`;\r\n}\r\n\r\n/**\r\n * Generate YouTube thumbnail URL from a video ID.\r\n * Uses maxresdefault with fallback options.\r\n */\r\nexport function getThumbnailUrl(videoId: string, quality: 'default' | 'hq' | 'mq' | 'sd' | 'maxres' = 'hq'): string {\r\n    const qualityMap = {\r\n        default: 'default',\r\n        hq: 'hqdefault',\r\n        mq: 'mqdefault',\r\n        sd: 'sddefault',\r\n        maxres: 'maxresdefault',\r\n    };\r\n    return `https://img.youtube.com/vi/${videoId}/${qualityMap[quality]}.jpg`;\r\n}\r\n\r\n/**\r\n * Parse any YouTube URL and return structured data.\r\n */\r\nexport function parseYouTubeUrl(url: string): {\r\n    videoId: string;\r\n    embedUrl: string;\r\n    watchUrl: string;\r\n    thumbnailUrl: string;\r\n} | null {\r\n    const videoId = extractYouTubeId(url);\r\n    if (!videoId) return null;\r\n\r\n    return {\r\n        videoId,\r\n        embedUrl: getEmbedUrl(videoId),\r\n        watchUrl: getWatchUrl(videoId),\r\n        thumbnailUrl: getThumbnailUrl(videoId),\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}